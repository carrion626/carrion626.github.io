<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="images/fhfhfh.jpeg">
    <title>Main page</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>


    <div id="first_reg">
        <div class="image-frame">
            <img src="images/huyatina.jpg" alt="Huyatina Image">
        </div>
        <h1>Dentist Event</h1>
        <form>
            <!-- ADD "REQUIRED TO EVERY FIELD" -->
            <input type="text" id="name" placeholder="Name" required> 
            <input type="text" id="lastname" placeholder="Last Name" >
            <input type="text" id="email" placeholder="e-mail@gmail.com" >
            <input type="text" id="tel" placeholder="Tel no (+380_____)" >
            <input type="text" id="city" placeholder="City" >
            <input type="text" id="school" placeholder="school" >
            <input type="text" id="position" placeholder="position">
            <button id="register">Register</button>
        </form>
    </div>

    <div id="reg2">
        <div class="image-frame">
            <img src="images/huyatina.jpg" alt="Huyatina Image">
        </div>
        <h1>Dentist Event</h1>
        <form>
            <!-- ADD "REQUIRED TO EVERY FIELD" -->
            <input type="text" id="name" placeholder="Name" required> 
            <input type="text" id="lastname" placeholder="Last Name" >
            <input type="text" id="email" placeholder="e-mail@gmail.com" >
            <input type="text" id="tel" placeholder="Tel no (+380_____)" >
            <input type="text" id="city" placeholder="City" >
            <input type="text" id="school" placeholder="school" >
            <input type="text" id="position" placeholder="position">
            <button class="back">Back</button>
            <button id="register">Register</button>
        </form>
    </div>

    <div id="home">
        <div class="image-frame">
            <img src="images/huyatina.jpg" alt="Huyatina Image">
        </div>
        <h1>Home Page</h1>
        <button id="register2">Register</button>
        <button id="schedule">schedule</button>
        <button id="route">route</button>
        <button id="presentation">presentation</button>
        <button id="link">link</button>
        <button id="programm">programm</button>
        <button id="contacts">contacts</button>
        <button id="chat">Telegram chat</button>
    </div>

    <div id="sch">
        <div class="image-frame">
            <img src="images/33212.jpg" alt="Huyatina Image">
        </div>
        <h1>schedule</h1>
        <img src="images/ысрувгду.jpg">
        <img src="images/ысрувгду.jpg">
        <img src="images/ысрувгду.jpg">
        <img src="images/ысрувгду.jpg">
        <img src="images/ысрувгду.jpg">
        <button class="back">Back</button>
    </div>

    <div id="rt">
        <div class="image-frame">
            <img src="images/33212.jpg" alt="Huyatina Image">
        </div>
        <h1>Route</h1>
        <img src="images/fhfhfh.jpeg">
        <img src="images/fhfhfh.jpeg">
        <img src="images/fhfhfh.jpeg">        
        <img src="images/fhfhfh.jpeg">
        <img src="images/fhfhfh.jpeg">
        <button class="back">Back</button>
        <button id="map">Map</button>
    </div>

    <div id="pr">
        <div class="image-frame">
            <img src="images/33212.jpg" alt="Huyatina Image">
        </div>
        <h1>Route</h1>
        <h1>Some names of speakers</h1>
        <button class="speaker">Dolboeb</button>
        <button class="speaker">Daun</button>
        <button class="speaker">Mudila</button>
        
        <button class="back">Back</button>
    </div>

    <div id="pgm">
        <div class="image-frame">
            <img src="images/33212.jpg" alt="Huyatina Image">
        </div>
        <h1>Programm</h1>
        <p id="programmText">Some text up to 1000 chars</p>
        <img src="images/fhfhfh.jpeg">
        <img src="images/fhfhfh.jpeg">
        <img src="images/fhfhfh.jpeg">        
        <img src="images/fhfhfh.jpeg">
        <img src="images/fhfhfh.jpeg">
        
        <button class="back">Back</button>
    </div>

    <div id="cts">
        <div class="image-frame">
            <img src="images/33212.jpg" alt="Huyatina Image">
        </div>
        <h1>WHAT?</h1>

        
        <button class="back">Back</button>
    </div>



<!-- For "Programm", limiting <p> Up to 1000 chars -->
    <script>
        let programmText = document.getElementById("programmText");
        if (programmText.textContent.length > 1000) {
            programmText.textContent = programmText.textContent.substring(0, 1000) + '...';
        }
        // CHECK IF USER REGISTERED FIRST TIME__________________
        if (!localStorage.getItem('userRegistered')) {
            // User has not registered, show the "first_reg" section
            document.getElementById('first_reg').style.display = 'block';
        } else {
            // User has registered, show the "home" section
            document.getElementById('home').style.display = 'block';
        }
    </script>
    
    <script>
        let tg = window.Telegram.WebApp;
        let reg = document.getElementById("register");
    
        // Function to handle registration
        function registerUser() {
            // Get input values
            let name = document.getElementById("name").value;
            let last_name = document.getElementById("lastname").value;
            let email = document.getElementById("email").value;
            let tel = document.getElementById("tel").value;
    
            // // Basic checks
            // if (!name || !last_name || !email || !tel) {
            //     alert("Please fill in all required fields.");
            //     return;
            // }
    
            // let data = {
            //     "name": name,
            //     "last_name": last_name,
            //     "email": email,
            //     "tel": tel,
            // }
    
            // // Send registration data to Telegram
            // tg.sendData(JSON.stringify(data));
    
            // // Save registration status in localStorage
            // localStorage.setItem('userRegistered', 'true');
    
            // Hide the registration section and display the home section
            document.getElementById("first_reg").style.display = "none";
            document.getElementById("home").style.display = "block";
        }
    
        // Attach the registerUser function to the "Register" button
        reg.addEventListener("click", registerUser);
    </script>

    <script>
        let reg2 = document.getElementById("register2");
        let schedule = document.getElementById("schedule");
        let route = document.getElementById("route");
        let presentation = document.getElementById("presentation");
        let link = document.getElementById("link");
        let programm = document.getElementById("programm");
        let contacts = document.getElementById("contacts");
        let chat = document.getElementById("chat");
        let map = document.getElementById("map");
        let back = document.getElementById("back");
        tg.expand()


        reg2.addEventListener("click", () => {
            document.getElementById("home").style.display = "none";
            document.getElementById("reg2").style.display = "block";
        });
        
        schedule.addEventListener("click", () => {
            document.getElementById("home").style.display = "none";
            document.getElementById("sch").style.display = "block";
        });

        route.addEventListener("click", () => {
            document.getElementById("home").style.display = "none";
            document.getElementById("rt").style.display = "block";
        });

        presentation.addEventListener("click", () => {
            document.getElementById("home").style.display = "none";
            document.getElementById("pr").style.display = "block";
        });

        link.addEventListener("click", () => {
            window.location.href = "https://miro.com/app/board/uXjVN4lad2k=/";
        })

        programm.addEventListener("click", () => {
            document.getElementById("home").style.display = "none";
            document.getElementById("pgm").style.display = "block";
        });

        contacts.addEventListener("click", () => {
            document.getElementById("home").style.display = "none";
            document.getElementById("cts").style.display = "block";
        });

        chat.addEventListener("click", () => {
            window.location.href = "https://miro.com/app/board/uXjVN4lad2k=/";
        })

        map.addEventListener("click", () => {
            window.location.href = "https://www.google.com/maps/place/%D0%9E%D0%B4%D0%B5%D1%81%D1%81%D0%B0,+%D0%9E%D0%B4%D0%B5%D1%81%D1%81%D0%BA%D0%B0%D1%8F+%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D1%8C,+%D0%A3%D0%BA%D1%80%D0%B0%D0%B8%D0%BD%D0%B0,+65000/@46.4598536,30.5469803,11z/data=!3m1!4b1!4m6!3m5!1s0x40c6318a0b864c43:0x129f8fe28cf2176c!8m2!3d46.4702111!4d30.7306393!16zL20vMGZmbXA?entry=ttu";
        })



        let backButtons = document.getElementsByClassName("back");

        for (let i = 0; i < backButtons.length; i++) {
            backButtons[i].addEventListener("click", () => {
                // Hide all sections except the home section
                let sections = document.querySelectorAll("#reg2, #sch, #rt, #pr, #pgm, #cts");
                sections.forEach(section => {
                    section.style.display = "none";
                });

                // Show the home section
                document.getElementById("home").style.display = "block";
            });
        }
    </script>
    


</body>
</html>