<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <title>Main page</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="preview">
        <img id="imagefirst" src="images/preview1.jpg">
    </div>

    <script>
        const images = ['preview1.jpg', 'preview2.jpg', 'preview3.jpg', 'preview4.jpg', 'preview5.jpg'];
        let currentIndex = 0;
        
        let tg = window.Telegram.WebApp;
        tg.ready()
        tg.expand()

        const image = document.getElementById('imagefirst');
        const previewDiv = document.getElementById('preview');
        tg.MainButton.text = "Next >>"; //изменяем текст кнопки 
        tg.MainButton.show()

        Telegram.WebApp.onEvent('mainButtonClicked', function(){
            // Update the index for the next image
            currentIndex = (currentIndex + 1) % images.length;
            if (currentIndex === 0) {
                // If the end is reached, hide "preview" and show "first_reg"
                window.location.href = 'https://carrion626.github.io/reg2.html';
                tg.MainButton.hide()
            } else {
                // Set the 'src' attribute to the next image
                image.src = 'images/' + images[currentIndex];
            }

        });
    </script>


</body>
</html>